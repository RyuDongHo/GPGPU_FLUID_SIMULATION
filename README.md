# GPGPU Performance Test with Fluid Simulation

Three.jsì™€ WebGLì„ ì´ìš©í•œ GPGPU ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

**ì£¼ëª©í‘œ**: GPU Computeì˜ ì„±ëŠ¥ê³¼ í•œê³„ë¥¼ ì‹¤í—˜í•˜ê³  ì¸¡ì •  
**í…ŒìŠ¤íŠ¸ ì›Œí¬ë¡œë“œ**: SPH(Smoothed Particle Hydrodynamics) ìœ ì²´ ì‹œë®¬ë ˆì´ì…˜

### ì„±ê³µ ì§€í‘œ
1. CPU vs GPU ì—°ì‚° ì‹œê°„ ë¹„êµ (ìµœì†Œ 10ë°° ì´ìƒ ì°¨ì´)
2. í™•ì¥ì„± í…ŒìŠ¤íŠ¸: íŒŒí‹°í´ 1,000 â†’ 100,000ê°œê¹Œì§€ ì„±ëŠ¥ ë³€í™” ì¸¡ì •
3. ë³‘ëª© ì§€ì  ì‹ë³„ ë° ìµœì í™”
4. ì‹¤ì‹œê°„ ë Œë”ë§ (ìµœì†Œ 30 FPS)

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì„¤ì¹˜
```bash
npm install
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

### ë¹Œë“œ
```bash
npm run build
```

---

## ğŸ“Š í˜„ì¬ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- **Phase 1.1**: íŒŒí‹°í´ ë Œë”ë§ ì‹œìŠ¤í…œ (5000ê°œ íŒŒí‹°í´)
- **Phase 1.2**: SPH ë°ì´í„° êµ¬ì¡° ì„¤ê³„
- **Phase 1.3**: ì¤‘ë ¥ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜

### ğŸ”„ ì§„í–‰ ì¤‘
- **Phase 1.4**: ê²½ê³„ ë°•ìŠ¤ ì¶©ëŒ ì²˜ë¦¬

### ğŸ“ ì˜ˆì •
- **Phase 2**: SPH ìœ ì²´ ë¬¼ë¦¬ (ë°€ë„, ì••ë ¥, ì ì„±)
- **Phase 3**: Spatial Hashing ìµœì í™”
- **Phase 4**: GPU Compute Shader (GPUComputationRenderer)
- **Phase 5**: ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ (CPU vs GPU)
- **Phase 6**: ìµœì¢… ë¶„ì„ ë° ë¦¬í¬íŠ¸

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Three.js** (v0.163.0) - 3D ë Œë”ë§
- **TypeScript** - íƒ€ì… ì•ˆì „ì„±
- **Vite** - ë¹Œë“œ ë„êµ¬
- **WebGL** - GPU ì—°ì‚°
- **GPUComputationRenderer** - GPGPU êµ¬í˜„

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ main.ts              # ë©”ì¸ ì§„ì…ì , ì”¬ ì„¤ì •
â”œâ”€â”€ mesh/
â”‚   â””â”€â”€ sph.ts          # SPH íŒŒí‹°í´ í´ë˜ìŠ¤
â””â”€â”€ (ì˜ˆì •)
    â”œâ”€â”€ physics/        # ë¬¼ë¦¬ ì—”ì§„
    â”œâ”€â”€ shaders/        # GLSL ì…°ì´ë”
    â””â”€â”€ benchmark/      # ì„±ëŠ¥ ì¸¡ì •
```

---

## ğŸ“– SPH ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜

### í˜„ì¬ êµ¬í˜„
```typescript
// ë‰´í„´ì˜ ìš´ë™ ë°©ì •ì‹
F = ma
v_new = v_old + (F/m) Ã— Î”t
p_new = p_old + v Ã— Î”t
```

### í–¥í›„ êµ¬í˜„ ì˜ˆì •
- ë°€ë„ ê³„ì‚°: Ï = Î£(m Ã— W(r))
- ì••ë ¥ ê³„ì‚°: P = k Ã— (Ï - Ïâ‚€)
- ì••ë ¥ í˜: F_pressure = -Î£(m Ã— (P_i/Ï_iÂ² + P_j/Ï_jÂ²) Ã— âˆ‡W)
- ì ì„± í˜: F_viscosity = Î¼ Ã— Î£(m Ã— (v_j - v_i)/Ï_j Ã— âˆ‡Â²W)

---

## ğŸ® ì‚¬ìš©ë²•

1. ë§ˆìš°ìŠ¤ ë“œë˜ê·¸: ì¹´ë©”ë¼ íšŒì „
2. ë§ˆìš°ìŠ¤ íœ : ì¤Œ ì¸/ì•„ì›ƒ
3. (ì˜ˆì •) GUI ì»¨íŠ¸ë¡¤: íŒŒë¼ë¯¸í„° ì¡°ì •

---

## ğŸ“Š ì˜ˆìƒ ì„±ëŠ¥ ëª©í‘œ

| íŒŒí‹°í´ ìˆ˜ | CPU (ì˜ˆìƒ) | GPU (ëª©í‘œ) | Speedup |
|----------|-----------|-----------|---------|
| 1,000    | 50ms      | 5ms       | 10x     |
| 5,000    | 1250ms    | 50ms      | 25x     |
| 10,000   | 5000ms    | 150ms     | 33x     |
| 50,000   | -         | 500ms     | -       |

---

## ğŸ”¬ ì‹¤í—˜ í•­ëª©

1. **Naive vs Optimized**: O(nÂ²) â†’ O(n) ìµœì í™” íš¨ê³¼
2. **CPU vs GPU**: ë³‘ë ¬ ì—°ì‚° ì„±ëŠ¥ ë¹„êµ
3. **Memory Bandwidth**: ë°ì´í„° ì „ì†¡ ë³‘ëª© ë¶„ì„
4. **Shader Complexity**: ì—°ì‚° ë³µì¡ë„ì˜ ì˜í–¥
5. **Scalability**: íŒŒí‹°í´ ìˆ˜ ì¦ê°€ì— ë”°ë¥¸ ì„±ëŠ¥ ë³€í™”

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Three.js Documentation](https://threejs.org/)
- [SPH Algorithm Paper](https://matthias-research.github.io/pages/publications/sca03.pdf)
- [GPUComputationRenderer](https://threejs.org/examples/?q=gpu#webgl_gpgpu_birds)

---

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

MIT License

---

## ğŸ‘¤ ì‘ì„±ì

GitHub: [@RyuDongHo](https://github.com/RyuDongHo)
